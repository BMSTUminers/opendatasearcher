<!DOCTYPE html >
<html ng-app="opendataApp">
<head>
   <title></title>
   <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.css">
   <link href="css/style.css" rel="stylesheet">
   <script src="bower_components/angular/angular.js"></script>
   <script src="js/app.js"></script>
   <script src="bower_components/angular-resource/angular-resource.js"></script>
     <script src="js/controllers.js"></script>
     <script src="js/services.js"></script>
     <script src="https://maps.googleapis.com/maps/api/js"></script>
     <script src="js/google-maps.js"></script>


</head>
<body ng-controller="SearchListCtrl">
   <div class="container">
        <div class="template">
          <div class="row">
            <div class="col-lg-6">
               <form>
              <div class="input-group search">
                <input type="text" class="form-control"  autofocus="autofocus" ng-model="searchQuery" placeholder="Поиск по открытым данным...">
                <span class="input-group-btn">
                  <button class="btn btn-default" type="submit" ng-click="changeUrl(searchQuery)">Вперед!</button>
                </span>
              </div><!-- /input-group -->
              </form>
            </div><!-- /.col-lg-6 -->
          </div> <!-- row -->
          <div id="results" ng-if="show">
             <h4>Результаты</h4>
             <div class="result" ng-repeat="result in results">
               <div class="panel panel-default" >
                 <!-- Default panel contents -->
                 <div class="panel-heading">Будет названия</div>

                 <!-- Table -->
                 <div class="table-responsive" style="overflow: auto" ng-if="result.type === 'table'">
                     <table class="table" >
                        <tr>
                           <th ng-repeat="header in result.headers">{{header}}</th>
                        </tr>
                       <tr ng-repeat="row in result.rows">
                           <td ng-repeat="cell in row track by $index">{{cell}}</td>
                       </tr>
                     </table>
                 </div>
                 <div ng-if="result.type === 'KML'">
                    <div post-render="{{result.kmlRef}}" id="map-canvas-{{result.index}}" style="width:100%; height:400px;">
                    </div>
                 </div>

                 <div ng-if="result.type === 'raw'">
                     <div ng-repeat="doc in result.docs">
                         <a href="http://data.gov.ru/opendata/{{doc.url}}">{{doc.title}}</a>
                         <div>{{doc.description}}</div>
                     </div>
                 </div>

               </div>
             </div>
          </div>
        </div>    
      </div>
   </body>
</html>